{"ast":null,"code":"var _jsxFileName = \"/Users/ganlintian/Desktop/info_340/HW/project-2-raphaelkyle/src/UserInfo.js\";\nimport React, { Component } from 'react';\nimport firebase from 'firebase/app';\nexport default class UserInfo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = () => {\n      let userRef = firebase.database().ref(this.props.userInfo.user);\n      userRef.set({\n        goal: this.props.userInfo.goal,\n        tree: this.props.userInfo.tree,\n        flower: this.props.userInfo.flower,\n        time: this.props.userInfo.time,\n        animal: this.props.userInfo.animal\n      }).catch(err => console.log(err)); // log any erros\n    };\n\n    this.refreshGoal = () => {\n      let prevGoalRef = firebase.database().ref(this.props.userInfo.user);\n      console.log(prevGoalRef);\n      prevGoalRef.on('value', snapshot => {\n        let value = snapshot.val();\n        this.setState({\n          user: value\n        });\n      });\n    };\n\n    this.state = {\n      user: []\n    };\n  }\n\n  render() {\n    let content;\n\n    if (this.props.userInfo.user === undefined || this.props.userInfo.user === \"\") {\n      content = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert alert-danger mt-3\",\n        role: \"alert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 23\n        }\n      }, \"Please Log in first\");\n    } else {\n      this.refreshGoal();\n      content = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }, \"Hello \", this.props.userInfo.user), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }, \"Here is your previous saved goal: \"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }, this.state.goal), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"mx-2 mt-1 mb-4 text-center\",\n        id: \"main-btn\",\n        \"aria-label\": \"Submit Personal Preference\",\n        role: \"button\",\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, \"Save your current preference\")));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 col-md-7 col-lg-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"scheduleTitleTop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, \"User Profile\"), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, content));\n  }\n\n}","map":{"version":3,"sources":["/Users/ganlintian/Desktop/info_340/HW/project-2-raphaelkyle/src/UserInfo.js"],"names":["React","Component","firebase","UserInfo","constructor","props","handleClick","userRef","database","ref","userInfo","user","set","goal","tree","flower","time","animal","catch","err","console","log","refreshGoal","prevGoalRef","on","snapshot","value","val","setState","state","render","content","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport firebase from 'firebase/app';\n\n\nexport default class UserInfo extends Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            user: []\n        }\n    }\n\n    handleClick = () => {\n        let userRef = firebase.database().ref(this.props.userInfo.user);\n        userRef.set({\n          goal: this.props.userInfo.goal,\n          tree: this.props.userInfo.tree,\n          flower: this.props.userInfo.flower,\n          time: this.props.userInfo.time,\n          animal: this.props.userInfo.animal\n        })\n        .catch(err => console.log(err)); // log any erros\n    }\n\n    refreshGoal = () => {\n        let prevGoalRef = firebase.database().ref(this.props.userInfo.user);\n        console.log(prevGoalRef);\n        prevGoalRef.on('value', (snapshot) => {\n            let value = snapshot.val();\n            this.setState({ user: value });\n        });\n    }\n\n\n    render() {\n        let content;\n\n\n\n        if(this.props.userInfo.user === undefined || this.props.userInfo.user === \"\") {\n            content = <div className=\"alert alert-danger mt-3\" role=\"alert\">\n                Please Log in first\n            </div>\n        } else {\n\n            this.refreshGoal();\n            content = \n            <div>\n                <h2>Hello {this.props.userInfo.user}</h2>\n\n                <h3>Here is your previous saved goal: </h3>\n                <p>{this.state.goal}</p>\n\n                <div className=\"text-center\">\n                    <button type=\"button\" className=\"mx-2 mt-1 mb-4 text-center\" id=\"main-btn\" aria-label=\"Submit Personal Preference\" role=\"button\" onClick={this.handleClick}>Save your current preference</button>\n                </div>\n            </div>\n        }\n\n        return(\n            <div className=\"col-sm-12 col-md-7 col-lg-7\">\n                <h2 className=\"scheduleTitleTop\">User Profile</h2>\n                <section className=\"ml-3\">\n                    {content}\n\n                </section>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}