{"ast":null,"code":"var _jsxFileName = \"/Users/ganlintian/Desktop/info_340/HW/project-2-raphaelkyle/src/SignUpForm.js\";\nimport firebase from 'firebase/app';\nexport default class SignUpForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSignOut = () => {\n      this.ListeningStateChangedEvent({\n        errorMessage: null\n      }); //clear old error\n\n      firebase.auth.signOut().catch(err => {\n        this.setState({\n          errorMessage: err.message\n        });\n      });\n    };\n\n    this.handleChange = event => {\n      let field = event.target.name; //which input\n\n      let value = event.target.value; //what value\n\n      let changes = {}; //object to hold changes\n\n      changes[field] = value;\n      this.setState(changes);\n    };\n\n    this.uiConfig = {\n      //which sign in values should we support?\n      signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID, firebase.auth.GoogleAuthProvider.PROVIDER_ID, firebase.auth.FacebookAuthProvider.PROVIDER_ID],\n      // for external sign-in methods, use popup instead of redirect\n      signInFlow: \"popup\"\n    };\n    this.state = {\n      email: \"\",\n      password: \"\",\n      username: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.authUnSubFunction = firebase.auth().onAuthStateChanged(firebaseUser => {\n      if (firebaseUser) {\n        // If exists, then we logged in\n        console.log(\"Logged in as\", firebaseUser.email);\n        this.setState({\n          user: firebaseUser\n        });\n      } else {\n        console.log(\"Logged out\");\n        this.setState({\n          user: null\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.authUnSubFunction(); // stop listening for auth changes\n  }\n\n  render() {\n    let content = null;\n\n    if (!this.StaticRange.user) {\n      //signed out\n      content = /*#__PURE__*/React.createElement(StyledFirebaseAuth, {\n        uiConfig: this.uiConfig,\n        firebaseAuth: firebase.auth(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      });\n    } else {\n      content = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert alert-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }\n      }, \"Logged in as \", this.StaticRange.user.displayName, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-warning float-right\",\n        onClick: this.handleSignOut,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }\n      }, \"Sign Out\"))), /*#__PURE__*/React.createElement(TaskApp, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, this.state.errorMessage && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"alert alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, this.state.errorMessage), content);\n  }\n\n}","map":{"version":3,"sources":["/Users/ganlintian/Desktop/info_340/HW/project-2-raphaelkyle/src/SignUpForm.js"],"names":["firebase","SignUpForm","Component","constructor","props","handleSignOut","ListeningStateChangedEvent","errorMessage","auth","signOut","catch","err","setState","message","handleChange","event","field","target","name","value","changes","uiConfig","signInOptions","EmailAuthProvider","PROVIDER_ID","GoogleAuthProvider","FacebookAuthProvider","signInFlow","state","email","password","username","componentDidMount","authUnSubFunction","onAuthStateChanged","firebaseUser","console","log","user","componentWillUnmount","render","content","StaticRange","displayName"],"mappings":"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","sourcesContent":["import firebase from 'firebase/app';\n\n\nexport default class SignUpForm extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            email: \"\",\n            password: \"\",\n            username: \"\"\n        };\n    }\n\n    componentDidMount() {\n\n        this.authUnSubFunction = firebase.auth().onAuthStateChanged((firebaseUser) => {\n            if (firebaseUser) {         // If exists, then we logged in\n                console.log(\"Logged in as\", firebaseUser.email);\n                this.setState({ user: firebaseUser })\n            } else {\n                console.log(\"Logged out\");\n                this.setState({ user: null })\n            }\n        })\n    }\n\n    componentWillUnmount() {\n        this.authUnSubFunction(); // stop listening for auth changes\n    }\n    \n    handleSignOut = () => {\n        this.ListeningStateChangedEvent({ errorMessage:null }); //clear old error\n    \n        firebase.auth.signOut()\n        .catch((err) => {\n            this.setState({errorMessage: err.message})\n        })\n    }\n    \n    handleChange = (event) => {\n        let field = event.target.name;  //which input\n        let value = event.target.value; //what value\n    \n        let changes = {}; //object to hold changes\n        changes[field] = value;\n        this.setState(changes);\n    }\n    \n    \n    // Configure Firebase UI (inside the component, public class field)\n    uiConfig = {\n        //which sign in values should we support?\n        signInOptions: [\n            firebase.auth.EmailAuthProvider.PROVIDER_ID,\n            firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n            firebase.auth.FacebookAuthProvider.PROVIDER_ID\n        ],\n        // for external sign-in methods, use popup instead of redirect\n        signInFlow: \"popup\"\n    };\n    \n    \n    \n    render() {\n        let content = null;\n        if(!this.StaticRange.user) { //signed out\n            content = (\n                <StyledFirebaseAuth uiConfig={this.uiConfig} firebaseAuth={firebase.auth()} />\n            )\n        } else {\n            content = (\n                <div>\n                    <div className=\"alert alert-success\">\n                        <h3>Logged in as {this.StaticRange.user.displayName}\n                            <button className=\"btn btn-warning float-right\" onClick={this.handleSignOut}>\n                                Sign Out\n                            </button>\n                        </h3> \n                    </div>\n                    <TaskApp />\n                </div>\n            )\n        }\n    \n        return (\n            <div className=\"container\">\n    \n                {/* only included if first clause is true */}\n                {this.state.errorMessage &&\n                <p className=\"alert alert-danger\">{this.state.errorMessage}</p>\n                }\n    \n                {/* show content based on user login state */}\n                {content}\n    \n            </div>\n        )\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}