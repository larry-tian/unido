{"ast":null,"code":"import _classCallCheck from\"/Users/ganlintian/Desktop/info_340/HW/project-2-raphaelkyle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ganlintian/Desktop/info_340/HW/project-2-raphaelkyle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ganlintian/Desktop/info_340/HW/project-2-raphaelkyle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ganlintian/Desktop/info_340/HW/project-2-raphaelkyle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import firebase from'firebase/app';import'firebase/analytics';import StyledFirebaseAuth from'react-firebaseui/StyledFirebaseAuth';var SignUpForm=/*#__PURE__*/function(_Component){_inherits(SignUpForm,_Component);var _super=_createSuper(SignUpForm);function SignUpForm(props){var _this;_classCallCheck(this,SignUpForm);_this=_super.call(this,props);_this.uiConfig={//which sign in values should we support?\nsignInOptions:[firebase.auth.EmailAuthProvider.PROVIDER_ID,firebase.auth.GoogleAuthProvider.PROVIDER_ID],// for external sign-in methods, use popup instead of redirect\nsignInFlow:\"popup\"};_this.handleSignOut=function(){_this.setState({errorMessage:null});//clear old error\nfirebase.auth().signOut().catch(function(err){_this.setState({errorMessage:err.message});});_this.props.userCallback(\"\");};_this.handleChange=function(event){var field=event.target.name;//which input\nvar value=event.target.value;//what value\nvar changes={};//object to hold changes\nchanges[field]=value;_this.setState(changes);};_this.state={user:null};return _this;}// Configure Firebase UI (inside the component, public class field)\n_createClass(SignUpForm,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.authUnSubFunction=firebase.auth().onAuthStateChanged(function(firebaseUser){if(firebaseUser){// If exists, then we logged in\n_this2.setState({user:firebaseUser});_this2.props.userCallback(_this2.state.user.email);}else{_this2.setState({user:null});}});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.authUnSubFunction();// stop listening for auth changes\n}},{key:\"render\",value:function render(){var content=null;if(!this.state.user){//signed out\ncontent=/*#__PURE__*/React.createElement(StyledFirebaseAuth,{uiConfig:this.uiConfig,firebaseAuth:firebase.auth()});}else{content=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-success\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"ml-3\"},\"Logged in as \",this.state.user.displayName,\" \")),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-warning float-right\",onClick:this.handleSignOut},\"Sign Out\")));}return/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 col-md-3 col-lg-3\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"scheduleTitleTop\"},\"Log In\"),/*#__PURE__*/React.createElement(\"section\",{className:\"ml-3\"},this.state.errorMessage&&/*#__PURE__*/React.createElement(\"p\",{className:\"alert alert-danger\"},this.state.errorMessage),content));}}]);return SignUpForm;}(Component);export{SignUpForm as default};","map":{"version":3,"sources":["/Users/ganlintian/Desktop/info_340/HW/project-2-raphaelkyle/src/SignUpForm.js"],"names":["React","Component","firebase","StyledFirebaseAuth","SignUpForm","props","uiConfig","signInOptions","auth","EmailAuthProvider","PROVIDER_ID","GoogleAuthProvider","signInFlow","handleSignOut","setState","errorMessage","signOut","catch","err","message","userCallback","handleChange","event","field","target","name","value","changes","state","user","authUnSubFunction","onAuthStateChanged","firebaseUser","email","content","displayName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport firebase from 'firebase/app';\nimport 'firebase/analytics';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\n\n\nexport default class SignUpForm extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            user: null\n        };\n    }\n\n     // Configure Firebase UI (inside the component, public class field)\n    uiConfig = {\n        //which sign in values should we support?\n        signInOptions: [\n            firebase.auth.EmailAuthProvider.PROVIDER_ID,\n            firebase.auth.GoogleAuthProvider.PROVIDER_ID\n        ],\n        // for external sign-in methods, use popup instead of redirect\n        signInFlow: \"popup\"\n    };\n\n    componentDidMount() {\n\n        this.authUnSubFunction = firebase.auth().onAuthStateChanged((firebaseUser) => {\n            if (firebaseUser) {         // If exists, then we logged in\n                this.setState({ user: firebaseUser });\n                this.props.userCallback(this.state.user.email);\n            } else {\n                this.setState({ user: null })\n            }\n        })\n    }\n\n    componentWillUnmount() {\n        this.authUnSubFunction(); // stop listening for auth changes\n    }\n    \n    handleSignOut = () => {\n        this.setState({ errorMessage:null }); //clear old error\n    \n        firebase.auth().signOut()\n        .catch((err) => {\n            this.setState({errorMessage: err.message})\n        })\n        this.props.userCallback(\"\");\n    }\n    \n    handleChange = (event) => {\n        let field = event.target.name;  //which input\n        let value = event.target.value; //what value\n    \n        let changes = {}; //object to hold changes\n        changes[field] = value;\n        this.setState(changes);\n    }\n    \n    \n   \n    \n    \n    \n    render() {\n        let content = null;\n        if(!this.state.user) { //signed out\n            content = (\n                <StyledFirebaseAuth uiConfig={this.uiConfig} firebaseAuth={firebase.auth()} />\n            )\n        } else {\n            content = (\n                <div>\n                    <section>\n                        <div className=\"alert alert-success\">\n                            <h3 className=\"ml-3\">Logged in as {this.state.user.displayName} </h3>\n                        </div>\n\n                        <button className=\"btn btn-warning float-right\" onClick={this.handleSignOut}>\n                            Sign Out\n                        </button>\n\n                    </section>\n\n                    \n                    \n                </div>\n            )\n        }\n    \n        return (\n            <div className=\"col-sm-12 col-md-3 col-lg-3\">\n                <h2 className=\"scheduleTitleTop\">Log In</h2>\n                <section className=\"ml-3\">\n                    {/* only included if first clause is true */}\n                    {this.state.errorMessage &&\n                        <p className=\"alert alert-danger\">{this.state.errorMessage}</p>\n                    }\n            \n                    {/* show content based on user login state */}\n                    {content}\n                </section>\n    \n            </div>\n        )\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}